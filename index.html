<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login - SiteRat</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* (same styles as before, omitted for brevity — keep yours intact) */
    /* ... [style block unchanged, see earlier versions] ... */
  </style>
</head>
<body>
  <form id="loginForm">
    <h2>SiteRat Login</h2>
    <div class="input-wrapper">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required />
    </div>
    <div class="input-wrapper">
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required />
    </div>
    <button type="submit">Login</button>
    <div id="loginMessage"></div>
    <div class="separator"><span>OR</span></div>
    <p>Don't have an account? <a href="register.html">Sign up</a></p>
  </form>

  <script>
    const loginForm = document.getElementById("loginForm");
    const loginMessage = document.getElementById("loginMessage");

    loginForm.addEventListener("submit", function(e) {
      e.preventDefault();
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value;

      const users = JSON.parse(localStorage.getItem("siterat_users") || "[]");
      const user = users.find(u => u.username === username);

      if (!user) {
        loginMessage.style.color = "#ff6b6b";
        loginMessage.textContent = "❌ Account with this name does not exist!";
        return;
      }

      if (user.password !== password) {
        loginMessage.style.color = "#ff6b6b";
        loginMessage.textContent = "❌ Incorrect password for this account!";
        return;
      }

      loginMessage.style.color = "#7CFC00";
      loginMessage.textContent = "✅ Successfully logged in Site Rat!";

      // ✅ Store login state
      localStorage.setItem("siterat_loggedInUser", username);

      // Redirect after short delay
      setTimeout(() => {
        window.location.href = "dashboard.html";
      }, 1000);
    });
  </script>
</body>
</html>
